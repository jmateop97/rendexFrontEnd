"use strict";(self.webpackChunkrendexFrontEnd=self.webpackChunkrendexFrontEnd||[]).push([[814],{2814:(O,c,a)=>{a.r(c),a.d(c,{AjustesPerfilModule:()=>U});var u=a(6895),d=a(5450),m=a(6061),n=a(433),o=a(8256),p=a(4448);function g(e,r){if(1&e){const t=o.EpF();o.TgZ(0,"div",4)(1,"form",5),o.NdJ("ngSubmit",function(){o.CHM(t);const s=o.oxw();return o.KtG(s.modificarUsuario())}),o.TgZ(2,"div",6)(3,"label",7),o._uU(4,"Nombre de usuario"),o.qZA(),o._UZ(5,"input",8),o.qZA(),o.TgZ(6,"div",6)(7,"label",9),o._uU(8,"Correo electr\xf3nico"),o.qZA(),o._UZ(9,"input",10),o.qZA(),o.TgZ(10,"div",6)(11,"label",11),o._uU(12,"Nombre"),o.qZA(),o._UZ(13,"input",12),o.qZA(),o.TgZ(14,"div",6)(15,"label",13),o._uU(16,"Apellidos"),o.qZA(),o._UZ(17,"input",14),o.qZA(),o.TgZ(18,"button",15),o._uU(19,"Guardar"),o.qZA()()()}if(2&e){const t=o.oxw();o.xp6(1),o.Q6J("formGroup",t.modificacionUsuario)}}let f=(()=>{class e{constructor(t,i){this.userServ=t,this.fb=i,this.modificacionUsuario=this.fb.group({nombreUsuario:[,[n.kI.required]],nombre:[,[n.kI.required]],apellidos:[,[n.kI.required,n.kI.minLength(20)]],email:[,[n.kI.required]]})}ngOnInit(){console.log(this.usuario),this.modificacionUsuario.patchValue({nombreUsuario:this.usuario.nombreUsuario}),this.modificacionUsuario.patchValue({nombre:this.usuario.nombre}),this.modificacionUsuario.patchValue({apellidos:this.usuario.apellidos}),this.modificacionUsuario.patchValue({email:this.usuario.email})}modificarUsuario(){this.usuario.apellidos=this.modificacionUsuario.get("apellidos")?.value,this.usuario.nombre=this.modificacionUsuario.get("nombre")?.value,this.userServ.modificarUsuario(this.usuario).subscribe(t=>{window.location.reload()})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(p.i),o.Y36(n.qu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-datos-generales"]],decls:5,vars:1,consts:[[1,"contenedorAjustes"],[1,"titulo"],[1,"tipoAjuste"],["class","formularioDatos",4,"ngIf"],[1,"formularioDatos"],["action","",3,"formGroup","ngSubmit"],[1,"campo"],["for","nombreUsuario"],["type","text","id","nombreUsuario","formControlName","nombreUsuario"],["for","correo"],["type","text","id","correo","formControlName","email"],["for","nombre"],["type","text","id","nombre","formControlName","nombre"],["for","apellidos"],["type","text","id","apellidos","formControlName","apellidos"],[1,"botonGuardar"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"p",2),o._uU(3,"DATOS GENERALES"),o.qZA()(),o.YNc(4,g,20,1,"div",3),o.qZA()),2&t&&(o.xp6(4),o.Q6J("ngIf",null!=i.usuario))},dependencies:[u.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:[".contenedorAjustes[_ngcontent-%COMP%]{width:80%;margin:auto;padding:20px;border-top:1px solid #00000052}.tipoAjuste[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-size:x-large;font-weight:bolder;color:#000}.camposAjustes[_ngcontent-%COMP%]{width:max-content;margin-left:10px}.inputAjustesUsuario[_ngcontent-%COMP%], .permisosMensajes[_ngcontent-%COMP%]{height:25px;width:220px;height:-moz-fit-content;height:fit-content;margin:18px 0 0 5px;border:solid 1px;border-radius:3px;background:#151515;font-size:large;border:1px gray solid}.botonGuardar[_ngcontent-%COMP%]{display:block;background:black;color:#fff;font-size:large;padding:10px;border:none;cursor:pointer;border-radius:5px;margin:75px auto}.botonGuardar[_ngcontent-%COMP%]:hover{box-shadow:#0003 0 2px 5px 5px,#00000030 0 3px 5px;animation:.25s linear 0s 1 normal forwards}.titulo[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto}.campo[_ngcontent-%COMP%]{width:80%;height:-moz-fit-content;height:fit-content;margin:20px auto;display:flex}.campo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-size:inherit;cursor:text;color:#000}.campo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%;height:30px;border:none;border:.5px solid black;margin:auto 0 auto auto;border-radius:5px;color:#000}@media (max-width:412px){.contenedorAjustes[_ngcontent-%COMP%]{width:100%;margin:auto;padding:20px 0;border-top:1px solid #00000052}}"]}),e})();var b=a(2382);function h(e,r){if(1&e&&(o.TgZ(0,"div",7),o._UZ(1,"img",8),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("src",t.imageBase64,o.LSH)}}const C=[{path:"",component:m.W,children:[{path:"generales",component:f},{path:"otros-datos",component:(()=>{class e{constructor(t,i,s){this.fb=t,this.usuarioServ=i,this.router=s,this.fd=new FormData,this.subidaBanner=this.fb.group({banner:[,[n.kI.required]]})}previewImagen(t){if(t.target.files){this.bannerImage=t.target.files[0],console.log(this.bannerImage);var i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=l=>{this.imageBase64=l.target.result}}const s=document.getElementById("cuadroSubirPortada");null!=s&&(s.style.display="block"),this.fd.append("file",this.bannerImage)}subirBanner(){this.usuarioServ.subirBannerPerfil(this.fd).subscribe(t=>{if(200==t.status){let i=document.getElementsByClassName("imagenFondo")[0];console.log(t.body),console.log(`url('https://rendex-production.up.railway.app/rendex/user/getUserBanner?username=${t.body?.nombreUsuario}')`),null!=t.body?.nombreUsuario&&(i.setAttribute("src",`https://rendex-production.up.railway.app/rendex/user/getUserBanner?username=${t.body.nombreUsuario}`),this.router.navigate(["/ajustes"]),b.w.nombreUsuario="asdasd")}})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(n.qu),o.Y36(p.i),o.Y36(d.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-otros-datos"]],decls:11,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"subida"],["for","portada"],["src","../../assets/images/upload-solid.svg","id","imagenPerfil","alt",""],["id","portada","formControlName","banner","type","file","accept","image/png, image/jpg, image/jpeg",2,"display","none",3,"change"],["id","cuadroSubirBanner",4,"ngIf"],["type","submit",3,"disabled"],["id","cuadroSubirBanner"],[3,"src"]],template:function(t,i){1&t&&(o._UZ(0,"hr"),o.TgZ(1,"form",0),o.NdJ("ngSubmit",function(){return i.subirBanner()}),o.TgZ(2,"div",1)(3,"h3"),o._uU(4,"BANNER"),o.qZA(),o.TgZ(5,"label",2),o._UZ(6,"img",3),o.qZA(),o.TgZ(7,"input",4),o.NdJ("change",function(l){return i.previewImagen(l)}),o.qZA()(),o.YNc(8,h,2,1,"div",5),o.TgZ(9,"button",6),o._uU(10,"Subir"),o.qZA()()),2&t&&(o.xp6(1),o.Q6J("formGroup",i.subidaBanner),o.xp6(7),o.Q6J("ngIf",null!=i.imageBase64),o.xp6(1),o.Q6J("disabled",i.subidaBanner.invalid))},dependencies:[u.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:["hr[_ngcontent-%COMP%]{width:80%;display:block;margin:auto auto 20px;border-color:#0001}.portadaMenuSubirProyecto[_ngcontent-%COMP%]{width:100%;height:40%;border-bottom:1px solid 1px solid #0000003d;padding-bottom:5%;padding-top:2%}.subida[_ngcontent-%COMP%]{display:flex;margin:auto;width:-moz-fit-content;width:fit-content}.subida[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto 20px;font-size:x-large;color:#000}.subida[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:30px;height:-moz-fit-content;height:fit-content;background:none;margin:auto;color:#000}#cuadroSubirBanner[_ngcontent-%COMP%]{margin:50px auto;width:60%;display:block}#cuadroSubirBanner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%;height:60%;object-fit:cover;display:block;margin:auto;box-shadow:#0003 0 2px 5px 5px,#00000030 0 3px 5px}.subida[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;cursor:pointer}button[_ngcontent-%COMP%]{display:block;margin:50px auto;padding:5px;font-size:large;color:#fff;border:none;background-color:#000}button[_ngcontent-%COMP%]:disabled{background-color:gray}"]}),e})()},{path:"**",redirectTo:"generales"}]}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[d.Bz.forChild(C),u.ez,n.UX,d.Bz]}),e})(),U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[u.ez,_]}),e})()}}]);